
@{
    ViewBag.Title = "ListOfLandmarks";
}
<br />

<select>
    <option>A-Z</option>
    <option>Popularity</option>
    <option>Rating</option>
</select>
<br />
Search <form action="/Home/SearchLandmarkBySiteName">
    <input type="text" name="SiteName" id="SiteName" />
</form>



<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {
        //$("#searchButton").click(function ()
        $("#SiteName").keyup(function () {
            $.ajax({
                type: "POST",
                url: "/Home/SearchLandmarkBySiteName",
                data: '{SiteName:"' + $("#SiteName").val() + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {

                    // alert(response);
                    if ($("#SiteName").val() == "") {
                        $("#searchResults").html("");
                    }
                    else {
                        $("#searchResults").html("");//clear the table
                        for (var i = 0; i < response.length; i++) {
                            var Landmark = response[i];//get sitename at index i
                            var Tr = "<tr>";
                            var Td1 = "<td>" + `<a href="/Home/LandmarkView?SiteName=${Landmark.SiteName}">` + Landmark.SiteName + "</a></td>";
                            var Td2 = "<td>" + Landmark.Address + "</td>";
                            var Td3 = "<td>" + Landmark.Rating + "</td>";
                            $("#searchResults").append(Tr + Td1 + Td2 + "</tr>");
                        }
                    }
                },
                failure: function (response) {
                    alert(response.responseText);
                }
            });
        });
    });
</script>
<table id="searchResults" class="table"></table>

<table class="table">
    <tr>
        <th>

        </th>
        <th>
            LandMark Name
        </th>
        <th>
            Address
        </th>
        <th>
            Rating
        </th>
    </tr>
    @foreach (var item in ViewBag.Landmark)
    {
        <tr>
            <td><img src="@item.image" /></td>
            <td><a href="/Home/LandmarkView?SiteName=@item.SiteName">@item.SiteName</a></td>
            <td>@item.Address</td>
            <td>@item.Rating</td>


        </tr>
    }


</table>

